<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>My Spotify Recommendations</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>

        <script src="src/script.js" type="module"></script>
        <link href="style.css" rel="stylesheet" />
    </head>
    <body>
      <section>
        <div class="wrapper">
          <div class="flex-between">
            <img class="logo" src="/img/logo.png">

            <nav class="menu">
              <ul>
                <a href="#"><li>Top Songs</li></a>
                <a href="#"><li>Top Artists</li></a>
                <a href="#"><li>Top Genres</li></a>
              </ul>
            </nav>

            <div>
              <!-- <img src=""> -->
              <button class="secondary-btn">Log Out</button>
            </div>
          </div>
        </div>
      </section>

      <section>
        <div class="wrapper">
          <div class="grid-3">
            <div class="child">
              <span id="avatar"></span>
              <ul>
                  <li>User ID: <span id="id"></span></li>
                  <li>Email: <span id="email"></span></li>
                  <li>Spotify URI: <a id="uri" href="#"></a></li>
                  <li>Link: <a id="url" href="#"></a></li>
                  <li>Profile Image: <span id="imgUrl"></span></li>
              </ul>
            </div>
            <div class="child">
              <h3>Your Top Songs</h3>

              <a href="" target="_blank" class="one">
                <div class="card" id="one">
                    <div>
                      <p class="num"><span class="num-container">1</span></p>
                    </div>
                    <div class="card-title">
                      <img src="img/logo.png" />
                      <div>
                        <h4>Song Title</h4>
                        <p>Artist</p>
                      </div>
                    </div>
                </div>
              </a>


              <a href="" target="_blank" class="two">
                <div class="card" id="two">
                    <div>
                      <p class="num"><span class="num-container">2</span></p>
                    </div>
                    <div class="card-title">
                      <img src="img/logo.png" />
                      <div>
                        <h4>Song Title</h4>
                        <p>Artist</p>
                      </div>
                    </div>
                </div>
              </a>


              <a href="" target="_blank" class="three">
                <div class="card" id="three">
                    <div>
                      <p class="num"><span class="num-container">3</span></p>
                    </div>
                    <div class="card-title">
                      <img src="img/logo.png" />
                      <div>
                        <h4>Song Title</h4>
                        <p>Artist</p>
                      </div>
                    </div>
                </div>
              </a>


              <a href="" target="_blank" class="four">
                <div class="card" id="four">
                    <div>
                      <p class="num"><span class="num-container">4</span></p>
                    </div>
                    <div class="card-title">
                      <img src="img/logo.png" />
                      <div>
                        <h4>Song Title</h4>
                        <p>Artist</p>
                      </div>
                    </div>
                </div>
              </a>


              <a href="" target="_blank" class="five">
                <div class="card" id="five">
                    <div>
                      <p class="num"><span class="num-container">5</span></p>
                    </div>
                    <div class="card-title">
                      <img src="img/logo.png" />
                      <div>
                        <h4>Song Title</h4>
                        <p>Artist</p>
                      </div>
                    </div>
                </div>
              </a>

              <a href="" target="_blank" class="six">
                <div class="card" id="six">
                    <div>
                      <p class="num"><span class="num-container">6</span></p>
                    </div>
                    <div class="card-title">
                      <img src="img/logo.png" />
                      <div>
                        <h4>Song Title</h4>
                        <p>Artist</p>
                      </div>
                    </div>
                </div>
              </a>

              <a href="" target="_blank" class="seven">
                <div class="card" id="seven">
                    <div>
                      <p class="num"><span class="num-container">7</span></p>
                    </div>
                    <div class="card-title">
                      <img src="img/logo.png" />
                      <div>
                        <h4>Song Title</h4>
                        <p>Artist</p>
                      </div>
                    </div>
                </div>
              </a>

              <a href="" target="_blank" class="eight">
                <div class="card" id="eight">
                    <div>
                      <p class="num"><span class="num-container">8</span></p>
                    </div>
                    <div class="card-title">
                      <img src="img/logo.png" />
                      <div>
                        <h4>Song Title</h4>
                        <p>Artist</p>
                      </div>
                    </div>
                </div>
              </a>

              <a href="" target="_blank" class="nine">
                <div class="card" id="nine">
                    <div>
                      <p class="num"><span class="num-container">9</span></p>
                    </div>
                    <div class="card-title">
                      <img src="img/logo.png" />
                      <div>
                        <h4>Song Title</h4>
                        <p>Artist</p>
                      </div>
                    </div>
                </div>
              </a>

              <a href="" target="_blank" class="ten">
                <div class="card" id="ten">
                    <div>
                      <p class="num"><span class="num-container">10</span></p>
                    </div>
                    <div class="card-title">
                      <img src="img/logo.png" />
                      <div>
                        <h4>Song Title</h4>
                        <p>Artist</p>
                      </div>
                    </div>
                </div>
              </a>



            </div>
            <div class="child">
              <h3>Top Related Recommendations</h3>

              <div id="container">

              </div>
            </div>

          </div>
        </div>
      </section>
      <button class="secondary-btn generatePlaylist" id="runButton">Like it? Create a Recommendation Playlist</button>
      

      <script>
        const container = document.getElementById("container");



        for (let i = 1; i <= 50; i++) {
          const uniqueId = `rec-${i}`;

          const link = document.createElement("a");
          link.href = `https://example.com/${uniqueId}`;
          link.target = "_blank";
          link.className = "rec";

          const outerDiv = document.createElement("div");
          outerDiv.className = "card";
          outerDiv.id = uniqueId;

          const numDiv = document.createElement("div");
          numDiv.className = "num";
          const numContainer = document.createElement("span");
          numContainer.className = "num-container";
          numContainer.textContent = i;
          numDiv.appendChild(numContainer);

          const cardTitleDiv = document.createElement("div");
          cardTitleDiv.className = "card-title";
          const logoImg = document.createElement("img");
          logoImg.src = "img/logo.png";

          const textDiv = document.createElement("div");

          const h4 = document.createElement("h4");
          h4.textContent = "Song Title";

          const p = document.createElement("p");
          p.textContent = "Artist";

          textDiv.appendChild(h4);
          textDiv.appendChild(p);

          cardTitleDiv.appendChild(logoImg);
          cardTitleDiv.appendChild(textDiv);
          outerDiv.appendChild(numDiv);
          outerDiv.appendChild(cardTitleDiv);
          link.appendChild(outerDiv);
          container.appendChild(link);
        }

      </script>


      <script type="module" src="src/script.js"></script>
      <script>
        const runButton = document.getElementById("runButton");
        runButton.addEventListener("click", function() {
          import('./src/script.js')
            .then(module => {
              module.makeRec();
            })
            .catch(error => {
              console.error('Error importing script.js:', error);
            });
        });
      </script>

    </body>
</html>